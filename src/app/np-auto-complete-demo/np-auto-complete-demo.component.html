<div class="sub-header">
    Auto Complete
</div>

<np-tabs>
    <np-tab title="Documentation">
        <np-card>
            <np-card-body>
                <b>Module to import</b>
                <div>
                    <pre><code [innerText]="importText"></code></pre>
                </div>
            </np-card-body>
        </np-card>
        <np-card>
            <np-card-body>
                <b>HTML</b>
                <div>
                    <pre><code [innerText]="htmlText"></code></pre>
                </div>
            </np-card-body>
        </np-card>
        <np-card>
            <np-card-body>
                <table class="np-table">
                    <tr>
                        <th>Property</th>
                        <th>Description</th>
                        <th>Type</th>
                        <th>Default</th>
                    </tr>
                    <tr>
                        <td>ngModel</td>
                        <td>Value</td>
                        <td>any</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>searchResult</td>
                        <td>List of data</td>
                        <td>BehaviorSubject&lt;any[]&gt;</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>disabled</td>
                        <td>Set disabled</td>
                        <td>boolean</td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>readonly</td>
                        <td>Set readonly</td>
                        <td>boolean</td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>required</td>
                        <td>Set required</td>
                        <td>boolean</td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>displayKey</td>
                        <td>If <b>items</b> is type of any[], then set property name which needs to display in auto
                            complete
                        </td>
                        <td>string</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>itemTemplate</td>
                        <td>Set template for item. Use var let-item="item" in template to access item
                            <pre><code>{{templateText}}</code></pre>
                        </td>
                        <td>TemplateRef&lt;any&gt;</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>orderBy</td>
                        <td>Set order by property</td>
                        <td>string</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>orderDir</td>
                        <td>
                            Set order direction 'asc' or 'desc'. Default value is 'asc'.
                            <br>
                            If data is type of string[], then only use orderDir.
                        </td>
                        <td>string</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>placeholder</td>
                        <td>Set placeholder</td>
                        <td>string</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>allowCreateNew</td>
                        <td>Allow to create new item</td>
                        <td>boolean</td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>maxResultLimit</td>
                        <td>Maximum number of search items to display</td>
                        <td>number</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>minSearchCharLimit</td>
                        <td>Minimum search character required to search</td>
                        <td>number</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>styleClass</td>
                        <td>Set extra class on component</td>
                        <td>string</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>inputId</td>
                        <td>Set id attribute</td>
                        <td>string</td>
                        <td></td>
                    </tr>
                </table>
            </np-card-body>
        </np-card>
        <np-card>
            <np-card-body>
                <table class="np-table">
                    <tr>
                        <th>Method</th>
                        <th>Description</th>
                        <th>Parameters</th>
                    </tr>
                    <tr>
                        <td>
                            onChange(v: any)
                        </td>
                        <td>
                            Callback event on value change.
                        </td>
                        <td>value</td>
                    </tr>
                    <tr>
                        <td>
                            onSearch(v: any)
                        </td>
                        <td>
                            Callback event on search<br>
                            <pre><code>{{onSearchText}}</code></pre>
                        </td>
                        <td>search keyword</td>
                    </tr>
                </table>
            </np-card-body>
        </np-card>
    </np-tab>
    <np-tab title="Examples">
        <fieldset>
            <legend>1. Default auto complete</legend>
            <np-auto-complete [(ngModel)]="auto1" [searchResult]="searchResult1" (onSearch)="onSearch1($event)">
            </np-auto-complete>
            <div>Selected value : {{auto1}}</div>
        </fieldset>

        <fieldset>
            <legend>2. disabled</legend>
            <np-auto-complete [(ngModel)]="auto2" [searchResult]="searchResult2" (onSearch)="onSearch2($event)"
                disabled>
            </np-auto-complete>
        </fieldset>

        <fieldset>
            <legend>3. required</legend>
            <form #form="ngForm">
                <np-auto-complete name="nameautosearch" #validations="ngModel" [(ngModel)]="auto3"
                    [searchResult]="searchResult3" (onSearch)="onSearch3($event)" required>
                </np-auto-complete>
                <div *ngIf="validations.control.touched && validations.control.errors?.required" class="np-text-danger">
                    Name is required.
                </div>
                <div>Selected value : {{auto3}}</div>
                <div>Form valid: {{ form.valid }}</div>
            </form>
        </fieldset>

        <fieldset>
            <legend>4. Bind change event</legend>
            <np-auto-complete [(ngModel)]="auto4" [searchResult]="searchResult4" (onSearch)="onSearch4($event)"
                (onChange)="onChnage4($event)">
            </np-auto-complete>
        </fieldset>

        <fieldset>
            <legend>5. Style class</legend>
            <np-auto-complete [(ngModel)]="auto5" [searchResult]="searchResult5" [styleClass]="'myClass'"
                (onSearch)="onSearch5($event)">
            </np-auto-complete>
        </fieldset>

        <fieldset>
            <legend>6. Allow to create new value</legend>
            <np-auto-complete [(ngModel)]="auto6" [searchResult]="searchResult6" [allowCreateNew]="true"
                (onSearch)="onSearch6($event)">
            </np-auto-complete>
            <div>Selected value : {{auto6}}</div>
        </fieldset>

        <fieldset>
            <legend>7. Display key for any[] + order by name + order direction ascending</legend>
            <np-auto-complete [(ngModel)]="auto7" [searchResult]="searchResult7" [allowCreateNew]="true"
                (onSearch)="onSearch7($event)" [displayKey]="'name'" [orderBy]="'name'" [orderDir]="'asc'">
            </np-auto-complete>
            <div>Selected value : {{auto7 | json}}</div>
        </fieldset>

        <fieldset>
            <legend>8. Item template</legend>
            <np-auto-complete [(ngModel)]="auto8" [searchResult]="searchResult8" [allowCreateNew]="true"
                (onSearch)="onSearch8($event)" [displayKey]="'name'" [itemTemplate]="itemTemplateRef">
            </np-auto-complete>
            <!-- Template for search item -->
            <ng-template #itemTemplateRef let-item="item" let-keyword="keyword">
                <span [innerHTML]="item.name | npHighLight : keyword"></span><span> ({{item.age}})</span>
            </ng-template>
            <div>Selected value : {{auto8 | json}}</div>
        </fieldset>

        <fieldset>
            <legend>9. Max search result limit</legend>
            <np-auto-complete [(ngModel)]="auto9" [searchResult]="searchResult9" (onSearch)="onSearch9($event)"
                [displayKey]="'name'" [maxResultLimit]="2">
            </np-auto-complete>
        </fieldset>

        <fieldset>
            <legend>10. Placeholder</legend>
            <np-auto-complete [(ngModel)]="auto10" [searchResult]="searchResult10" (onSearch)="onSearch10($event)"
                [displayKey]="'name'" placeholder="Search and Select name...">
            </np-auto-complete>
        </fieldset>

        <fieldset>
            <legend>11. Minimum search characters limit to search (After 3 characters)</legend>
            <np-auto-complete [(ngModel)]="auto11" [searchResult]="searchResult11" (onSearch)="onSearch11($event)"
                [displayKey]="'name'" [minSearchCharLimit]="3">
            </np-auto-complete>
        </fieldset>
    </np-tab>
</np-tabs>